<header>
    <h1></h1>
    <input placeholder="enter you name">
    <input type=button value=save>
</header>
<main>
    <ul>
</main>

<script src="https://www.gstatic.com/firebasejs/3.3.2/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyCJrMzt-h3bF4gezUX2UuTKvC_ezvwsR1U",
    authDomain: "rpsls-e66aa.firebaseapp.com",
    databaseURL: "https://rpsls-e66aa.firebaseio.com",
    storageBucket: "rpsls-e66aa.appspot.com",
  };
  firebase.initializeApp(config);
</script>



<script>
    dbRefPlayers = firebase.database().ref('players');

    function addItem(i) {
        let li = document.createElement('li');
        li.textContent = i;
        document.querySelector('ul').appendChild(li);
    }

    dbRefPlayers.on('child_added', snapshot => addItem(snapshot.val()));


    let [inputName, inputSave] = document.querySelectorAll('header > input');
    let name = '';

    inputSave.addEventListener('click', () => {
        if (inputName.value !== '') {
            inputName.hidden = inputSave.hidden = true;
            name = document.querySelector('header > h1').textContent = inputName.value;
            dbRefPlayers.push(name);
            let key = `${name}@email.com`;
            //firebase.database().ref('players').set({key: name});
        }
    });
   

</script>